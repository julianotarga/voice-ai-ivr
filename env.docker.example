# =============================================================================
# Voice AI IVR - Environment Variables
# =============================================================================
# Copy this file to .env and configure your values
# cp env.docker.example .env
# =============================================================================

# -----------------------------------------------------------------------------
# Application
# -----------------------------------------------------------------------------
DEBUG=false
VOICE_AI_PORT=8100
VOICE_AI_REALTIME_PORT=8085

# -----------------------------------------------------------------------------
# Realtime Configuration (v2)
# -----------------------------------------------------------------------------
MAX_SESSIONS_PER_DOMAIN=10
SESSION_IDLE_TIMEOUT_SECONDS=30
SESSION_MAX_DURATION_SECONDS=600

# -----------------------------------------------------------------------------
# Database - FusionPBX PostgreSQL (no host)
# -----------------------------------------------------------------------------
# Se o PostgreSQL está no host, use host.docker.internal
# Se está em outro servidor, use o IP/hostname
DB_HOST=host.docker.internal
DB_PORT=5432
DB_NAME=fusionpbx
DB_USER=fusionpbx
DB_PASS=your_fusionpbx_password_here

# -----------------------------------------------------------------------------
# Redis - Cache and Rate Limiting
# -----------------------------------------------------------------------------
REDIS_PORT=6379

# -----------------------------------------------------------------------------
# FreeSWITCH Directories (no host)
# -----------------------------------------------------------------------------
# Diretórios compartilhados com o FreeSWITCH
FREESWITCH_SOUNDS_DIR=/var/lib/freeswitch/sounds
FREESWITCH_RECORDINGS_DIR=/var/lib/freeswitch/recordings

# -----------------------------------------------------------------------------
# AI Providers - API Keys
# -----------------------------------------------------------------------------
# Pelo menos um provider de cada tipo deve estar configurado

# OpenAI (STT Whisper, TTS, LLM GPT, Embeddings)
OPENAI_API_KEY=sk-your-openai-key-here

# Anthropic (LLM Claude)
ANTHROPIC_API_KEY=sk-ant-your-anthropic-key-here

# ElevenLabs (TTS)
ELEVENLABS_API_KEY=your-elevenlabs-key-here

# Groq (LLM Llama ultra-rápido)
GROQ_API_KEY=gsk_your-groq-key-here

# Deepgram (STT)
DEEPGRAM_API_KEY=your-deepgram-key-here

# Cohere (Embeddings)
COHERE_API_KEY=your-cohere-key-here

# -----------------------------------------------------------------------------
# Azure Cognitive Services (STT, TTS, LLM, Embeddings)
# -----------------------------------------------------------------------------
AZURE_SPEECH_KEY=your-azure-speech-key-here
AZURE_SPEECH_REGION=brazilsouth
AZURE_OPENAI_KEY=your-azure-openai-key-here
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/

# -----------------------------------------------------------------------------
# Google Cloud (STT, TTS, LLM Gemini)
# -----------------------------------------------------------------------------
# Caminho para o arquivo JSON de credenciais
GOOGLE_APPLICATION_CREDENTIALS=/app/credentials/google-cloud.json

# -----------------------------------------------------------------------------
# AWS (STT Transcribe, TTS Polly, LLM Bedrock)
# -----------------------------------------------------------------------------
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-east-1

# -----------------------------------------------------------------------------
# Local Providers
# -----------------------------------------------------------------------------
# Ollama - LLM Local
OLLAMA_BASE_URL=http://ollama:11434
OLLAMA_MODEL=llama3.2

# Whisper - STT Local
WHISPER_MODEL=base
WHISPER_DEVICE=cpu

# Piper - TTS Local
PIPER_VOICE=pt_BR-faber-medium

# -----------------------------------------------------------------------------
# Optional Services
# -----------------------------------------------------------------------------
# ChromaDB - Vector Store (dev)
CHROMA_PORT=8000
CHROMA_AUTH=

# Ollama
OLLAMA_PORT=11434

# -----------------------------------------------------------------------------
# OmniPlay Integration (Optional)
# -----------------------------------------------------------------------------
OMNIPLAY_WEBHOOK_URL=
OMNIPLAY_WEBHOOK_SECRET=
# API URL do OmniPlay Backend para criar tickets
OMNIPLAY_API_URL=http://host.docker.internal:8080
# Token de autenticação do Voice AI Service
VOICE_AI_SERVICE_TOKEN=your-voice-ai-service-token-here

# -----------------------------------------------------------------------------
# Google AI (Gemini - Realtime)
# -----------------------------------------------------------------------------
GOOGLE_API_KEY=your-google-ai-key-here

# -----------------------------------------------------------------------------
# ESL (Event Socket Layer) - FreeSWITCH
# -----------------------------------------------------------------------------
# Host do FreeSWITCH para comandos ESL (transfer, originate, etc)
ESL_HOST=host.docker.internal
ESL_PORT=8021
ESL_PASSWORD=ClueCon

# -----------------------------------------------------------------------------
# Transfer/Handoff System
# -----------------------------------------------------------------------------
# Timeout padrão para aguardar atendimento (segundos)
TRANSFER_DEFAULT_TIMEOUT=30
# Anunciar para o cliente antes de transferir
TRANSFER_ANNOUNCE_ENABLED=true
# Música de espera durante transferência
TRANSFER_MUSIC_ON_HOLD=local_stream://moh

# -----------------------------------------------------------------------------
# Callback System
# -----------------------------------------------------------------------------
# Habilitar sistema de callback
CALLBACK_ENABLED=true
# Horas até o callback expirar
CALLBACK_EXPIRATION_HOURS=24
# Máximo de notificações ao atendente
CALLBACK_MAX_NOTIFICATIONS=5
# Intervalo mínimo entre notificações (minutos)
CALLBACK_MIN_INTERVAL_MINUTES=10
