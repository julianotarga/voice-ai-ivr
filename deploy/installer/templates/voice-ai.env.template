# =============================================================================
# Voice AI IVR - Configuration Template
# =============================================================================
# Copie este arquivo para /opt/voice-ai/.env e configure os valores
# =============================================================================

# Ambiente
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=INFO

# =============================================================================
# Banco de Dados (FusionPBX PostgreSQL)
# =============================================================================
# Estes valores são detectados automaticamente pelo instalador
DATABASE_URL=postgresql://fusionpbx:SENHA@localhost:5432/fusionpbx
DB_HOST=localhost
DB_PORT=5432
DB_NAME=fusionpbx
DB_USER=fusionpbx
DB_PASS=

# =============================================================================
# FreeSWITCH ESL
# =============================================================================
# Porta 8021: ESL Inbound (Voice AI conecta ao FreeSWITCH)
# Porta 8022: ESL Outbound (FreeSWITCH conecta ao Voice AI)
ESL_HOST=127.0.0.1
ESL_PORT=8021
ESL_PASSWORD=ClueCon
ESL_SERVER_PORT=8022

# =============================================================================
# API Keys (OBRIGATÓRIO configurar pelo menos um)
# =============================================================================

# OpenAI (para Realtime API e GPT)
OPENAI_API_KEY=sk-your-openai-api-key-here

# ElevenLabs (para TTS de alta qualidade)
ELEVENLABS_API_KEY=

# Google Cloud (para STT alternativo)
# GOOGLE_APPLICATION_CREDENTIALS=/opt/voice-ai/credentials/google-stt.json

# =============================================================================
# Configurações de Áudio
# =============================================================================
AUDIO_MODE=websocket
FS_PCMU_PASSTHROUGH=false

# Warmup de áudio (reduz cortes no início)
AUDIO_WARMUP_CHUNKS=15
AUDIO_WARMUP_MS=400
AUDIO_ADAPTIVE_WARMUP=true

# Jitter buffer
JITTER_BUFFER_MIN=100
JITTER_BUFFER_MAX=300
JITTER_BUFFER_STEP=40

# =============================================================================
# Redis (opcional - para cache e filas)
# =============================================================================
# REDIS_URL=redis://localhost:6379/0

# =============================================================================
# OmniPlay Backend (opcional - integração com sistema de tickets)
# =============================================================================
# OMNIPLAY_BACKEND_URL=http://localhost:8080
# OMNIPLAY_API_KEY=

# =============================================================================
# Configurações Avançadas
# =============================================================================

# VAD (Voice Activity Detection)
VAD_THRESHOLD=0.5
VAD_PREFIX_PADDING_MS=300
VAD_SILENCE_DURATION_MS=500

# Timeouts
IDLE_TIMEOUT_SECONDS=30
MAX_DURATION_SECONDS=600
MAX_TURNS=20

# =============================================================================
# IMPORTANTE: Após configurar, reinicie o serviço:
#   sudo systemctl restart voice-ai-realtime
# =============================================================================
